<form onSubmit="execute();return false;">
	<center>
		<br />
		<input type="text" id="cmdBox" size="100%" placeholder="พิมพ์คำค้นพระไตรปิฎก" />
		<button onclick="execute();return false;">Execute</button>
		<br />
		<br />
		<div id="stage">
		<textarea id="bookdb" style="width:80%; " rows="30" disabled>พระไตรปิฎก|1,8 พระวินัยปิฎก
พระไตรปิฎก|1,1 -เล่มที่ 1   มหาวิภังค์ ภาค 1
พระไตรปิฎก|2,1 -เล่มที่ 2   มหาวิภังค์ ภาค 2
พระไตรปิฎก|3,1 -เล่มที่ 3   ภิกขุนีวิภังค์
พระไตรปิฎก|4,1 -เล่มที่ 4   มหาวรรค ภาค 1
พระไตรปิฎก|5,1 -เล่มที่ 5   มหาวรรค ภาค 2
พระไตรปิฎก|6,1 -เล่มที่ 6   จุลวรรค ภาค 1
พระไตรปิฎก|7,1 -เล่มที่ 7   จุลวรรค ภาค 2
พระไตรปิฎก|8,1 -เล่มที่ 8   ปริวาร
//ค้างตรงนี้
พระไตรปิฎก|9 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 1   ทีฆนิกาย สีลขันธวรรค
พระไตรปิฎก|10 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 2   ทีฆนิกาย มหาวรรค
พระไตรปิฎก|11 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 3   ทีฆนิกาย ปาฏิกวรรค
พระไตรปิฎก|12 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 4   มัชฌิมนิกาย มูลปัณณาสก์
พระไตรปิฎก|13 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 5   มัชฌิมนิกาย มัชฌิมปัณณาสก์
พระไตรปิฎก|14 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 6   มัชฌิมนิกาย อุปริปัณณาสก์
พระไตรปิฎก|15 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 7   สังยุตตนิกาย สคาถวรรค
พระไตรปิฎก|16 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 8   สังยุตตนิกาย นิทานวรรค
พระไตรปิฎก|17 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 9   สังยุตตนิกาย ขันธวารวรรค
พระไตรปิฎก|18 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 10   สังยุตตนิกาย สฬายตนวรรค
พระไตรปิฎก|19 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 11   สังยุตตนิกาย มหาวารวรรค
พระไตรปิฎก|20 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 12   อังคุตตรนิกาย เอกนิบาต-ทุกนิบาต-ติกนิบาต
พระไตรปิฎก|21 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 13   อังคุตตรนิกาย จตุกกนิบาต
พระไตรปิฎก|22 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 14   อังคุตตรนิกาย ปัญจกนิบาต-ฉักกนิบาต
พระไตรปิฎก|23 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 15   อังคุตตรนิกาย สัตตกนิบาต-อัฏฐกนิบาต-นวกนิบาต
พระไตรปิฎก|24 พระสุตตันตปิฎก ปุริมจตุนิกาย เล่มที่ 16   อังคุตตรนิกาย ทสกนิบาต-เอกาทสกนิบาต
พระไตรปิฎก|25 พระสุตตันตปิฎก เล่มที่ 17   ขุททกนิกาย ขุททกปาฐะ-ธรรมบท-อุทาน-อิติวุตตกะ-สุตตนิบาต
พระไตรปิฎก|26 พระสุตตันตปิฎก เล่มที่ 18   ขุททกนิกาย วิมาน-เปตวัตถุ เถร-เถรีคาถา
พระไตรปิฎก|27 พระสุตตันตปิฎก เล่มที่ 19   ขุททกนิกาย ชาดก ภาค 1
พระไตรปิฎก|28 พระสุตตันตปิฎก เล่มที่ 20   ขุททกนิกาย ชาดก ภาค 2
พระไตรปิฎก|29 พระสุตตันตปิฎก เล่มที่ 21   ขุททกนิกาย มหานิทเทส
พระไตรปิฎก|30 พระสุตตันตปิฎก เล่มที่ 22   ขุททกนิกาย จูฬนิทเทส
พระไตรปิฎก|31 พระสุตตันตปิฎก เล่มที่ 23   ขุททกนิกาย ปฏิสัมภิทามรรค
พระไตรปิฎก|32 พระสุตตันตปิฎก เล่มที่ 24   ขุททกนิกาย อปทาน ภาค 1
พระไตรปิฎก|33 พระสุตตันตปิฎก เล่มที่ 25   ขุททกนิกาย อปทาน ภาค 2-พุทธวังสะ-จริยาปิฎก
พระไตรปิฎก|34 พระอภิธรรมปิฎก เล่มที่ 1   ธัมมสังคณีปกรณ์
พระไตรปิฎก|35 พระอภิธรรมปิฎก เล่มที่ 2   วิภังคปกรณ์
พระไตรปิฎก|36 พระอภิธรรมปิฎก เล่มที่ 3   ธาตุกถาปกรณ์-ปุคคลบัญญัติปกรณ์
พระไตรปิฎก|37 พระอภิธรรมปิฎก เล่มที่ 4   กถาวัตถุปกรณ์
พระไตรปิฎก|38 พระอภิธรรมปิฎก เล่มที่ 5   ยมกปกรณ์ ภาค 1
พระไตรปิฎก|39 พระอภิธรรมปิฎก เล่มที่ 6   ยมกปกรณ์ ภาค 2
พระไตรปิฎก|40 พระอภิธรรมปิฎก เล่มที่ 7   ปัฏฐานปกรณ์ ภาค 1
พระไตรปิฎก|41 พระอภิธรรมปิฎก เล่มที่ 8   ปัฏฐานปกรณ์ ภาค 2
พระไตรปิฎก|42 พระอภิธรรมปิฎก เล่มที่ 9   ปัฏฐานปกรณ์ ภาค 3
พระไตรปิฎก|43 พระอภิธรรมปิฎก เล่มที่ 10   ปัฏฐานปกรณ์ ภาค 4
พระไตรปิฎก|44 พระอภิธรรมปิฎก เล่มที่ 11   ปัฏฐานปกรณ์ ภาค 5
พระไตรปิฎก|45 พระอภิธรรมปิฎก เล่มที่ 12   ปัฏฐานปกรณ์ ภาค 6 
อรรถกถา|1,10 อ.เล่ม 1-10
อรรถกถา|11,10 อ.เล่ม 11-20
อรรถกถา|21,10 อ.เล่ม 21-30
อรรถกถา|31,10 อ.เล่ม 31-40
อรรถกถา|41,10 อ.เล่ม 41-45
อรรถกถา|1,10 สมันตปาสาทิกา อ.วินัยปิฎก [เล่ม 1-8]
อรรถกถา|1,2 -อ.มหาวิภังค์ [เล่ม 1-2]
อรรถกถา|3,1 -อ.ภิกขุนีวิภังค์ [เล่ม 3]
อรรถกถา|4,2 -อ.มหาวรรค วิ.ม.อ. [เล่ม 4-5]
อรรถกถา|6,2 -อ.จุลวรรค [เล่ม 6-7]
อรรถกถา|8,1 -อ.ปริวาร [เล่ม 8]
อรรถกถา|9,3 สุมังคลวิลาสินี อ.ทีฆนิกาย [เล่ม 9-11] อ.สุตตันตปิฎก ปุริมจตุกนิกาย
อรรถกถา|9,1 -อ.สีลขันธวรรค [เล่ม 9]
อรรถกถา|10,1 -อ.มหาวรรค ที.ม.อ. [เล่ม 10]
อรรถกถา|11,1 -อ.ปาฏิกวรรค [เล่ม 11]
อรรถกถา|12,3 ปปัญจสูทนี อ.มัชฌิมนิกาย [เล่ม 12-14] อ.สุตตันตปิฎก ปุริมจตุกนิกาย
อรรถกถา|12,1 -อ.มูลปัณณาสก์ [เล่ม 12]
อรรถกถา|13,1 -อ.มัชฌิมปัณณาสก์ [เล่ม 13]
อรรถกถา|14,1 -อ.อุปริปัณณาสก์ [เล่ม 14]
อรรถกถา|15,5 สารัตถปกาสินี อ.สังยุตตนิกาย [เล่ม 15-19]  อ.สุตตันตปิฎก ปุริมจตุกนิกาย
อรรถกถา|15,1 -อ.สคาถวรรค [เล่ม 15]
อรรถกถา|16,1 -อ.นิทานวรรค [เล่ม 16]
อรรถกถา|17,1 -อ.ขันธวารวรรค [เล่ม 17]
อรรถกถา|18,1 -อ.สฬายตนวรรค [เล่ม 18]
อรรถกถา|19,1 -อ.มหาวารวรรค [เล่ม 19]
อรรถกถา|20,5 มโนรถปูรณี อ.อังคุตตรนิกาย [เล่ม 20-24]  อ.สุตตันตปิฎก ปุริมจตุกนิกาย
อรรถกถา|20,1 -อ.เอกกนิบาต,อ.ทุกนิบาต,อ.ติกนิบาต [เล่ม 20]
อรรถกถา|21,1 -อ.จตุกนิบาต [เล่ม 21]
อรรถกถา|22,1 -อ.ปัญจกนิบาต,อ.ฉักกนิบาต [เล่ม 22]
อรรถกถา|23,1 -อ.สัตตกนิบาต,อ.อัฏฐกนิบาต,อ.นวกนิบาต [เล่ม 23]
อรรถกถา|24,1 -อ.ทสกนิบาต,อ.เอกาทสกนิบาต [เล่ม 24]
อรรถกถา|25,1 ปรมัตถโชติกาและปรมัตถทีปนี อ.ขุททกปาฐะ,อ.ธรรมบท,อ.อุทาน,อ.อิติวุตตกะ,อ.สุตนิบาต [เล่ม 25] อ.สุตตันตปิฎก อ.ขุททกนิกาย 
อรรถกถา|26,1 ปรมัตถทีปนี อ.เถรคาถา,อ.เถรีคาถา [เล่ม 26] อ.สุตตันตปิฎก อ.ขุททกนิกาย
อรรถกถา|27,2 ชาตกัฏฐกถา อ.ชาดก [เล่ม 27-28] อ.สุตตันตปิฎก อ.ขุททกนิกาย
อรรถกถา|29,1 อ.มหานิเทส [เล่ม 29]
อรรถกถา|30,1 อ.ูจฬนิเทส [เล่ม 30]
อรรถกถา|29,2 สัทธัมมปัชโชติกา อ.นิเทส [เล่ม 29-30] อ.สุตตันตปิฎก อ.ขุททกนิกาย
อรรถกถา|31,1 สัทธัมมปกาสินี อ. ขุ. ปฏิสัมภิทามรรค [เล่ม 31] อ.สุตตันตปิฎก อ.ขุททกนิกาย
อรรถกถา|32,1 อ.อปทาน ๑ [เล่ม 32]
อรรถกถา|33,1 อ.อปทาน ๒ -พุทธ -จริยา [เล่ม 33]
อรรถกถา|32,2 วิสุทธชนวิลาสินี(อ.อปทาน),มธุรัตถวิราสินี(อ.พุทธวงศ์),ปรมัตถทีปนี(อ.จริยาปิฎก) [เล่ม 32-33] อ.สุตตันตปิฎก  อ.ขุททกนิกาย
อรรถกถา|34,1 อัฏฐสาลินี อ.ธรรมสังคณีปกรณ์ [เล่ม 34]  อ.อภิธรรมปิฎก
อรรถกถา|35,1 สัมโมหวิโนทนี อ.วิภังคปกรณ์ [เล่ม 35] อ.อภิธรรมปิฎก
อรรถกถา|36,1 ปัญจปกรณ์ อ.ธาตุกถา,อ.ปุคคลบัญญัติปกรณ์,อ.กถาวัตถุปกรณ์,อ.ยมกปกรณ์,อ.ปัฏฐานปกรณ์ [เล่ม 36-45] อ.อภิธรรมปิฎก
อรรถกถา|36,1 -อ.ธาตุกถา-อ.ปุคคลบัญญัติปกรณ์ [เล่ม 36]
อรรถกถา|37,1 -อ.กถาวัตถุปกรณ์ [เล่ม 37]
อรรถกถา|38,1 -อ.ยมกปกรณ์ ภาค ๑ [เล่ม 38]
อรรถกถา|39,1 -อ.ยมกปกรณ์ ภาค ๒ [เล่ม 39]
อรรถกถา|40,1 -อ.ปัฏฐานปกรณ์ ภาค ๑ [เล่ม 40]
อรรถกถา|41,1 -อ.ปัฏฐานปกรณ์ ภาค ๒ [เล่ม 41]
อรรถกถา|42,1 -อ.ปัฏฐานปกรณ์ ภาค ๓ [เล่ม 42]
อรรถกถา|44,1 -อ.ปัฏฐานปกรณ์ ภาค ๕ [เล่ม 44]
อรรถกถา|45,1 -อ.ปัฏฐานปกรณ์ ภาค ๖ [เล่ม 45]</textarea>	</div>	
		<script type="text/javascript">
			//JavaScript Code
			function thaiNumber(num) {
				var array = {
					"1": "๑",
					"2": "๒",
					"3": "๓",
					"4": "๔",
					"5": "๕",
					"6": "๖",
					"7": "๗",
					"8": "๘",
					"9": "๙",
					"0": "๐"
				};
				var str = num.toString();
				for (var val in array) {
					var re = new RegExp(array[val], "g");
					str = str.replace(re, val);
				}
				return str;
			}
		</script>
	</center>
</form>
<script>
	window.onload = function() {
		document.getElementById("bookdb").value = thaiNumber(document.getElementById("bookdb").value);
		document.getElementById("cmdBox").focus();
	}

	function execute() {
		var cmd = document.getElementById("cmdBox").value.trim();
		if (cmd[0] == "-") {
			//เปิดสารบัญ
			if (cmd.search(/^-[1-9][0-9]*$/) > -1) {
				window.location = "http://84000.org/tipitaka/read/?index_" + cmd.substr(1);
			}
			//ค้นหัวข้อ
			else if (cmd[1].search(/^[^0-9]/) > -1) {
				window.location = "http://84000.org/tipitaka/pitaka_item/sutta_name.php?name=" + cmd.substr(1) + "&book=1&bookZ=45";
			}
			//เปิดแบบเล่ม ข้อ หน้า
			else {
				window.location = "http://84000.org/tipitaka/read/?" + cmd.substr(1);
			}
		}
		//ถ้าเป็นการค้นหา
		else {
			//ค้นระบุเล่ม
			if (cmd.search("/") > -1) {
				cmd = cmd.split(/\//g);
				cmd[0] = encodeURI(cmd[0]);
				//ค้นระบุช่วงเลขเล่ม
				if ((cmd[1].search(/^[0-9]/) > -1)) {
					/*
					//Generate เลขเล่มที่จะค้น
					//อนาคตสามารถทำ "คำค้น/1-2/3/5-7/40-45" ได้
					var bRange = "";
					for (var i = 1; i < cmd.length; i++) {
						cmdi = cmd[i].split(/-/g);
						if (cmdi.lenght > 1) {
							for (i = Number(cmdi[0]); i <= Number(cmdi[1]); i++) {
								bRange += "," + i;
							}
						} else {
							bRange += "," + cmdi;
						}
					}
                    */
					var bookNum = cmd[1].split("-");
					window.location = "http://84000.org/tipitaka/pitaka_item/tipitaka_seek.php?text=" + cmd[0] + "&book=" + bookNum[0] + "&bookZ=" + bookNum[1];
				}
				//ถ้าค้นระบุ tag
				else {
					var stage=document.getElementById("stage");
					stage.innerHTML="";
					var bNames=document.getElementById("bookdb").value.split(/\n/g);
					results="";
					for (var i=0;i<bNames.length;i++){
						var book=bNames[i];
						if (book.search(cmd[1])>-1) {
							//กรณีพระไตรปิฎก
							if (book.search("อรรถกถา|")==-1){
								stage
							}
						}
					}
					
				}
			}
			//ไม่ระบุอะไรเลย--พิมพ์แต่คำค้น
			else {
				window.location = "http://84000.org/tipitaka/pitaka_item/tipitaka_seek.php?text=" + encodeURI(cmd) + "&book=" + 1 + "&bookZ=" + 45;
			}
		}
	}
</script>
